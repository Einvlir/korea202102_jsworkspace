<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
*{margin: 0px;}
</style>
<script>
var box1;
var box2;
var flag = false;
function init(){
    box1 = document.getElementById("box1");
    box2 = document.getElementById("box2");
    //스타일 적용
    box1.style.position="absolute";
    box1.style.left = 100 + "px";
    box1.style.top = 200 + "px";
    box1.style.width = 100 + "px";
    box1.style.height = 100 + "px";
    box1.style.background = "green";
    box1.style.color = "white";
    
    box2.style.position="absolute";
    box2.style.left = 600 + "px";
    box2.style.top = 200 + "px";
    box2.style.width = 100 + "px";
    box2.style.height = 100 + "px";
    box2.style.background = "blue";
    box2.style.color = "white";
    
    log(box1,100,200);
    log(box2,600,200);
    
}

function drag(){
    if(flag){
        box1.style.left = event.clientX - 50 + "px";
        box1.style.top = event.clientY - 50 + "px";
    }
    log(box1, parseInt(box1.style.left),parseInt(box1.style.top));
    collisionCheck(box1, box2);
}
function collisionCheck(obj1,obj2){
    var result = false;
    //물체의 왼쪽 시작값(가로)
    var x1 = parseInt(obj1.style.left);
    var x2 = parseInt(obj2.style.left);
    //물체의 가로길이
    var w1 = parseInt(obj1.style.width);
    var w2 = parseInt(obj2.style.width);
    //물체의 왼쪽 시작값(세로)
    var y1 = parseInt(obj1.style.top);
    var y2 = parseInt(obj2.style.top);
    //물체의 세로길이
    var h1 = parseInt(obj1.style.height);
    var h2 = parseInt(obj2.style.height);
    check1 = (x1+w1) >= x2 && (y1+h1) >= y2
    check2 = (y1+h1) >= y2 && x1 <= (x2+w2)
    check3 = x1 <= (x2+w2) && y1 < (y2+h2)
    check4 = (x1+w1) >= x2 && y1 < (y2+h2)

    result = check1 || check2 || check3 || check4;
    // return result;

    if(result){
        obj1.style.background = "green";
    }else{
        obj1.style.background = "black";
    }

}
function take(){
    flag = !flag;
}
function log(obj, x, y){
    obj.innerText = "x: "+x+", y: "+y;
    obj.innerText = "x: "+x+", y: "+y;
}
window.addEventListener('load',function(){
    init();
})
</script>
<body onmousemove="drag()">
    <div style="width: 100%;height: 600px;background:yellow;">
        <div id = "box1" onclick="take()"></div>
        <div id = "box2"></div>
    </div>
</body>
</html>